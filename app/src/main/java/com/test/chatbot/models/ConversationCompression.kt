package com.test.chatbot.models

/**
 * –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –¥–∏–∞–ª–æ–≥–∞
 */
data class CompressionSettings(
    val enabled: Boolean = true,
    val threshold: Int = 10, // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ —Å–∂–∞—Ç–∏—è
    val keepRecentMessages: Int = 4 // –°–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –±–µ–∑ —Å–∂–∞—Ç–∏—è
)

/**
 * –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –¥–∏–∞–ª–æ–≥–∞
 */
data class CompressionState(
    val isEnabled: Boolean = false,
    val compressionCount: Int = 0, // –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–∂–∞—Ç–∏–µ
    val originalTokenCount: Int = 0, // –¢–æ–∫–µ–Ω–æ–≤ –±–µ–∑ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏
    val compressedTokenCount: Int = 0, // –¢–æ–∫–µ–Ω–æ–≤ –ø–æ—Å–ª–µ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏
    val savedTokens: Int = 0, // –°—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤
    val savingsPercent: Float = 0f, // –ü—Ä–æ—Ü–µ–Ω—Ç —ç–∫–æ–Ω–æ–º–∏–∏
    val hasSummary: Boolean = false, // –ï—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω–æ–µ summary
    val summaryPreview: String = "" // –ü—Ä–µ–≤—å—é —Ç–µ–∫—É—â–µ–≥–æ summary
)

/**
 * –†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏
 */
data class CompressionResult(
    val success: Boolean,
    val summary: String,
    val originalMessages: Int,
    val originalTokens: Int,
    val compressedTokens: Int,
    val error: String? = null
)

/**
 * –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏
 */
object SummarizationPrompts {
    val SUMMARIZE_CONVERSATION = """
–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Ç–∫–æ–µ, –Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ–∑—é–º–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞.

–ü–†–ê–í–ò–õ–ê:
1. –°–æ—Ö—Ä–∞–Ω–∏ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã –∏ —Ä–µ—à–µ–Ω–∏—è
2. –£–∫–∞–∂–∏, –∫–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –±—ã–ª–∏ –∑–∞–¥–∞–Ω—ã –∏ –∫–∞–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã
3. –°–æ—Ö—Ä–∞–Ω–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
4. –ù–µ —Ç–µ—Ä—è–π –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ (–∏–º–µ–Ω–∞, —á–∏—Å–ª–∞, –¥–∞—Ç—ã, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã)
5. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:
üìã –†–ï–ó–Æ–ú–ï –î–ò–ê–õ–û–ì–ê:
[–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–º—ã –∏ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤]

üîë –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ö–¢–´:
- [—Ñ–∞–∫—Ç 1]
- [—Ñ–∞–∫—Ç 2]
...

üìù –ö–û–ù–¢–ï–ö–°–¢ –î–õ–Ø –ü–†–û–î–û–õ–ñ–ï–ù–ò–Ø:
[–ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞]
""".trimIndent()
}

